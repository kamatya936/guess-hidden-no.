<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Number Guessing Game</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@700&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Roboto Slab', serif; display: flex; flex-direction: column; align-items: center; margin: 0; padding: 10px; background: radial-gradient(circle, #a1c4fd, #c2e9fb); }
    h1 { margin-bottom: 15px; font-size: clamp(24px, 6vw, 42px); color: #0d3b66; text-shadow: 2px 2px #e0f7fa; text-align: center; }
    .playerInput, .modeSelect { margin-bottom: 12px; display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; align-items: center; }
    input, select { padding: 10px; font-size: clamp(14px, 3vw, 18px); border-radius: 12px; border: 2px solid #0d3b66; box-shadow: 0 2px 6px rgba(0,0,0,0.2); }
    .grid { display: grid; grid-template-columns: repeat(10, 1fr); gap: 6px; width: 100%; max-width: 100%; margin-bottom: 15px; }
    .numberBox { width: 100%; aspect-ratio: 1/1; background: linear-gradient(145deg, #ffffff, #d6e6ff); border-radius: 15px; cursor: pointer; box-shadow: 0 4px 8px rgba(0,0,0,0.25); display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: clamp(16px, 3vw, 20px); transition: transform 0.2s, background 0.3s; }
    .numberBox:hover { background: linear-gradient(145deg, #b3d1ff, #80bfff); transform: scale(1.08); }
    .selected { background: #007bff !important; color: white; transform: scale(1.12); }
    .buttons { display: flex; flex-wrap: wrap; gap: 15px; margin-bottom: 15px; justify-content: center; }
    button { padding: 18px 36px; font-size: clamp(18px, 4vw, 22px); cursor: pointer; border-radius: 15px; border: none; color: white; font-weight: bold; transition: 0.3s; box-shadow: 0 4px 8px rgba(0,0,0,0.3); }
    #startBtn { background: #28a745; }
    #startBtn:hover { background: #1e7e34; transform: scale(1.05); }
    #resetBtn { background: #dc3545; }
    #resetBtn:hover { background: #a71d2a; transform: scale(1.05); }
    #result { font-size: clamp(24px, 6vw, 44px); margin-top: 15px; font-weight: bold; text-align: center; word-wrap: break-word; color: #0d3b66; text-shadow: 1px 1px #e0f7fa; }
    .boldNumber { font-weight: 900; font-size: 1.3em; }
    #scoreBoard { margin-top: 8px; font-size: clamp(16px, 4vw, 20px); text-align: center; word-wrap: break-word; color: #034078; }
    .winAnimation { animation: pop 0.6s ease-in-out 0s 3 alternate, glow 1s ease-in-out infinite alternate; color: green; }
    .loseAnimation { animation: shake 0.6s ease-in-out 0s 3, dim 1s ease-in-out infinite alternate; color: red; }
    .watermark { position: fixed; bottom: 5px; right: 5px; font-size: clamp(12px, 3vw, 14px); color: rgba(0,0,0,0.5); }

    @keyframes pop { 0% { transform: scale(1); } 100% { transform: scale(1.5); } }
    @keyframes shake { 0% { transform: translateX(0); } 25% { transform: translateX(-5px); } 50% { transform: translateX(5px); } 75% { transform: translateX(-5px); } 100% { transform: translateX(0); } }
    @keyframes glow { 0% { text-shadow: 0 0 3px #28a745; } 100% { text-shadow: 0 0 10px #28a745; } }
    @keyframes dim { 0% { opacity: 1; } 100% { opacity: 0.5; } }
  </style>
</head>
<body>
  <h1>Guess The Hidden Number (1 - 20)</h1>
  <div class="modeSelect">
    <label for="gameMode" style="margin-right: 10px;">Select Mode:</label>
    <select id="gameMode" onchange="modeChanged()">
      <option value="single">Single Player</option>
      <option value="multi">Multiple Player</option>
    </select>
  </div>
  <div class="playerInput" id="playerInputs">
    <input type="text" id="player1" placeholder="Player 1 Name" />
    <input type="text" id="player2" placeholder="Player 2 Name" />
  </div>
  <p id="turnInfo">Enter names and press Reset to start</p>
  <div id="numberGrid" class="grid"></div>

  <div class="buttons">
    <button id="resetBtn" onclick="resetGame()">Reset</button>
    <button id="startBtn" onclick="startGame()">Start</button>
  </div>

  <h2 id="result"></h2>
  <div id="scoreBoard"></div>
  <audio id="winSound" src="https://www.soundjay.com/misc/sounds/bell-ringing-05.mp3"></audio>
  <audio id="loseSound" src="https://www.soundjay.com/button/sounds/button-4.mp3"></audio>

  <div class="watermark">&copy; Developed by Kamatya</div>

  <script>
    let selectedNumber = null;
    let canPlay = false;
    let currentPlayer = 1;
    let playerNames = ['', ''];
    let gameMode = 'single';
    let mustReset = true;
    const grid = document.getElementById("numberGrid");
    const resultText = document.getElementById("result");
    const turnInfo = document.getElementById("turnInfo");
    const scoreBoard = document.getElementById("scoreBoard");
    const winSound = document.getElementById("winSound");
    const loseSound = document.getElementById("loseSound");

    let scores = [0,0];

    for (let i = 1; i <= 20; i++) {
      const box = document.createElement("div");
      box.className = "numberBox";
      box.textContent = i;
      box.onclick = function () {
        if(!canPlay) return;
        document.querySelectorAll('.numberBox').forEach(b => b.classList.remove('selected'));
        box.classList.add('selected');
        selectedNumber = i;
      };
      grid.appendChild(box);
    }

    function updateScoreBoard() {
      if(gameMode==='multi') {
        scoreBoard.textContent = `${playerNames[0]}: ${scores[0]} points | ${playerNames[1]}: ${scores[1]} points`;
      } else {
        scoreBoard.textContent = '';
      }
    }

    function modeChanged() {
      gameMode = document.getElementById('gameMode').value;
      document.getElementById('playerInputs').style.display = gameMode === 'multi' ? 'flex' : 'none';
      canPlay = false;
      mustReset = true;
      resultText.textContent = 'Press Reset to start the game';
      resultText.className = '';
      turnInfo.textContent = gameMode === 'multi' ? 'Enter names and press Reset to start' : 'Press Reset to start the game';
      scores = [0,0];
      updateScoreBoard();
    }

    function startGame() {
      if (mustReset) { alert('Please press Reset before starting the game!'); return; }
      if (!canPlay) return;
      canPlay = false;
      const hiddenNumber = Math.floor(Math.random() * 20) + 1;
      resultText.className = '';

      if (selectedNumber === null) { resultText.textContent = "Please select a number first!"; resultText.style.color = "orange"; canPlay = true; return; }

      let winnerName = gameMode === 'single' ? 'Player' : playerNames[currentPlayer-1];
      let won = selectedNumber===hiddenNumber;

      if (won) {
        resultText.innerHTML = `üéâ Congratulations ${winnerName}! The hidden number was <span class='boldNumber'>${hiddenNumber}</span>. Press Reset to play again.`;
        resultText.classList.add('winAnimation');
        winSound.play();
        if(gameMode==='multi') { scores[currentPlayer-1] += 1; }
      } else {
        resultText.innerHTML = `‚ùå ${winnerName} Lose! The hidden number was <span class='boldNumber'>${hiddenNumber}</span>. Press Reset to play again.`;
        resultText.classList.add('loseAnimation');
        resultText.style.color = 'red';
        loseSound.play();
      }

      let gameData = JSON.parse(localStorage.getItem('numberGame')) || [];
      gameData.push({player: winnerName, guess: selectedNumber, hidden: hiddenNumber, win: won});
      localStorage.setItem('numberGame', JSON.stringify(gameData));
      updateScoreBoard();
    }

    function resetGame() {
      selectedNumber = null;
      canPlay = true;
      mustReset = false;
      if (gameMode === 'multi') {
        currentPlayer = currentPlayer === 1 ? 2 : 1;
        playerNames[0] = document.getElementById('player1').value.trim() || 'Player 1';
        playerNames[1] = document.getElementById('player2').value.trim() || 'Player 2';
        turnInfo.textContent = `Turn: ${playerNames[currentPlayer-1]}`;
      } else {
        turnInfo.textContent = `Single Player Mode: Select a number and press Start`;
      }
      document.querySelectorAll('.numberBox').forEach(b => b.classList.remove('selected'));
      resultText.textContent = '';
      resultText.className = '';
      resultText.style.color = '#0d3b66';
    }

    window.onload = function(){ modeChanged(); }
  </script>
</body>
</html>
